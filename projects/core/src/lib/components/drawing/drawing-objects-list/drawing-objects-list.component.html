
@let features$ = this.features$ | async;
@if(features$ && features$.length > 0 ) {

  <mat-expansion-panel class="objects-list" [expanded]="false">
    <mat-expansion-panel-header>
      <mat-panel-title i18n="@@core.drawing.objects-list">Objects</mat-panel-title>
      <mat-panel-description>{{ features$.length }}</mat-panel-description>
    </mat-expansion-panel-header>
    @for (feature of this.features$ | async; track feature.__fid; let index = $index) {
      <div (click)="selectFeature(feature.__fid)" (dblclick)="selectFeatureAndEditLabel(feature.__fid)" [class.selected]="feature.__fid === (selectedFeature$ | async)?.__fid">
        <tm-drawing-feature-icon [feature]="feature"></tm-drawing-feature-icon>
        #{{index+1}}
        @if(editingLabelForFeatureFid === feature.__fid) {
          <input #editLabel style="display: block; width: 180px" type="text" [ngModel]="feature.attributes.style.label"  (keyup.enter)="updateLabel()" />
        } @else {
          <span class="label">{{ stripMacros(feature.attributes.style.label) }}</span>
        }

      </div>
    }
  </mat-expansion-panel>
}
